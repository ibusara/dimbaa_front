import { Component, OnInit } from '@angular/core';
import { NavigationEnd, Router } from '@angular/router';
import { filter, startWith } from 'rxjs';
import { DeviceSizeService } from 'src/app/core/services/device-size.service';

@Component({
  selector: 'app-super-admin',
  templateUrl: './super-admin.component.html',
  styleUrls: ['./super-admin.component.scss']
})
export class SuperAdminComponent implements OnInit {

  menus: any = [
    {
      name: 'User',
      route: '/dashboard/r/super-admin/user',
      viewBox: '0 0 25 31',
      iconPath: 'M12.5 0.375L0.125 5.875V14.125C0.125 21.7563 5.405 28.8925 12.5 30.625C19.595 28.8925 24.875 21.7563 24.875 14.125V5.875L12.5 0.375ZM22.125 14.125C22.125 20.34 18.0275 26.0738 12.5 27.7788C6.9725 26.0738 2.875 20.34 2.875 14.125V7.6625L12.5 3.38625L22.125 7.6625V14.125ZM6.18875 14.9363L4.25 16.875L9.75 22.375L20.75 11.375L18.8113 9.4225L9.75 18.4838L6.18875 14.9363Z'
    },
    {
      name: 'Team',
      route: '/dashboard/r/super-admin/team',
      viewBox: '0 0 29 29',
      iconPath: 'M14.2123 0.648193C6.60165 0.648193 0.43866 6.82497 0.43866 14.4356C0.43866 22.0463 6.60165 28.2231 14.2123 28.2231C21.8368 28.2231 28.0135 22.0463 28.0135 14.4356C28.0135 6.82497 21.8368 0.648193 14.2123 0.648193ZM23.767 8.92066H19.6997C19.2585 7.19723 18.6243 5.54274 17.7971 4.01233C20.3339 4.88094 22.4434 6.64573 23.767 8.92066ZM14.2261 3.46083C15.3705 5.11533 16.2666 6.94906 16.8595 8.92066H11.5927C12.1856 6.94906 13.0817 5.11533 14.2261 3.46083ZM3.55462 17.1931C3.33402 16.3107 3.19615 15.387 3.19615 14.4356C3.19615 13.4843 3.33402 12.5605 3.55462 11.6781H8.21478C8.10448 12.5881 8.02175 13.4981 8.02175 14.4356C8.02175 15.3732 8.10448 16.2832 8.21478 17.1931H3.55462ZM4.68519 19.9506H8.75249C9.19369 21.674 9.82791 23.3285 10.6552 24.8589C8.11827 23.9903 6.00879 22.2393 4.68519 19.9506ZM8.75249 8.92066H4.68519C6.00879 6.63194 8.11827 4.88094 10.6552 4.01233C9.82791 5.54274 9.19369 7.19723 8.75249 8.92066ZM14.2261 25.4104C13.0817 23.7559 12.1856 21.9222 11.5927 19.9506H16.8595C16.2666 21.9222 15.3705 23.7559 14.2261 25.4104ZM17.4524 17.1931H10.9998C10.8758 16.2832 10.7792 15.3732 10.7792 14.4356C10.7792 13.4981 10.8758 12.5743 10.9998 11.6781H17.4524C17.5765 12.5743 17.673 13.4981 17.673 14.4356C17.673 15.3732 17.5765 16.2832 17.4524 17.1931ZM17.7971 24.8589C18.6243 23.3285 19.2585 21.674 19.6997 19.9506H23.767C22.4434 22.2255 20.3339 23.9903 17.7971 24.8589ZM20.2374 17.1931C20.3477 16.2832 20.4305 15.3732 20.4305 14.4356C20.4305 13.4981 20.3477 12.5881 20.2374 11.6781H24.8976C25.1182 12.5605 25.2561 13.4843 25.2561 14.4356C25.2561 15.387 25.1182 16.3107 24.8976 17.1931H20.2374Z'
    },
    {
      name: 'Stadium',
      route: '/dashboard/r/super-admin/stadium',
      viewBox: '0 0 31 32',
      iconPath: 'M27.5521 14.4762C26.9179 8.7268 22.3542 4.16316 16.6048 3.52893V0.688721H13.8474V3.52893C8.09799 4.16316 3.53435 8.7268 2.90013 14.4762H0.0599136V17.2337H2.90013C3.53435 22.983 8.09799 27.5467 13.8474 28.1809V31.0211H16.6048V28.1809C22.3542 27.5467 26.9179 22.983 27.5521 17.2337H30.3923V14.4762H27.5521ZM15.2261 25.5061C9.89036 25.5061 5.57489 21.1907 5.57489 15.8549C5.57489 10.5192 9.89036 6.2037 15.2261 6.2037C20.5618 6.2037 24.8773 10.5192 24.8773 15.8549C24.8773 21.1907 20.5618 25.5061 15.2261 25.5061Z'
    } ,
    {
      name: 'Soccer Tactic',
      route: '/dashboard/r/super-admin/tactics',
      viewBox: '0 0 21 22',
      iconPath: 'M16.93 17.12L16.13 15.76L17.59 11.39L19 10.92L20 11.67C20 11.7 20 11.75 20 11.81C20 11.88 20.03 11.94 20.03 12C20.03 13.97 19.37 15.71 18.06 17.21L16.93 17.12M9.75 15L8.38 10.97L12 8.43L15.62 10.97L14.25 15H9.75M12 20.03C11.12 20.03 10.29 19.89 9.5 19.61L8.81 18.1L9.47 17H14.58L15.19 18.1L14.5 19.61C13.71 19.89 12.88 20.03 12 20.03M5.94 17.21C5.41 16.59 4.95 15.76 4.56 14.75C4.17 13.73 3.97 12.81 3.97 12C3.97 11.94 4 11.88 4 11.81C4 11.75 4 11.7 4 11.67L5 10.92L6.41 11.39L7.87 15.76L7.07 17.12L5.94 17.21M11 5.29V6.69L7 9.46L5.66 9.04L5.24 7.68C5.68 7 6.33 6.32 7.19 5.66S8.87 4.57 9.65 4.35L11 5.29M14.35 4.35C15.13 4.57 15.95 5 16.81 5.66C17.67 6.32 18.32 7 18.76 7.68L18.34 9.04L17 9.47L13 6.7V5.29L14.35 4.35M4.93 4.93C3 6.89 2 9.25 2 12S3 17.11 4.93 19.07 9.25 22 12 22 17.11 21 19.07 19.07 22 14.75 22 12 21 6.89 19.07 4.93 14.75 2 12 2 6.89 3 4.93 4.93Z'
    }

  ]

  constructor(
    private router: Router,
    private deviceSize: DeviceSizeService
  ) {
    this.isMobile = this.deviceSize.isMobile();
    console.log(this.isMobile);

  }


  isInternalRoute: boolean = false;
  isMobile: boolean = false;

  ngOnInit(): void {
    this.router.events.pipe(
      filter(event => event instanceof NavigationEnd),
      startWith(this.router)
    )
      .subscribe((event: any) => {
        if (event.url == "/dashboard/r/super-admin") {
          this.isInternalRoute = false;
        } else {
          this.isInternalRoute = true;
        }
        console.log(event.url);

      });

    this.deviceSize.isMobile$.subscribe((isMobile: boolean) => {
      this.isMobile = isMobile;
      console.log(this.isMobile);
    })


  }

}
